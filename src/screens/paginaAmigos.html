<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../../img/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="../styles/pesquisa_amigos/styles_container_pesquisa_amigos.css">
    <link rel="stylesheet" href="../styles/styles_chat/chat_style.css">
    <link rel="stylesheet" href="../styles/styles_chat/painelAmigos.css">

    <title>Lista de Amigos</title>
    <style>
        /* Ocultar o conteúdo da página e mostrar o carregamento */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .content {
            display: block;
        }
    </style>
</head>

<body>
    <script>
        const container_friend = document.getElementById("container_friend");
        // Verificar se o usuário está logado ao carregar a página
        window.onload = function () {
            const token = sessionStorage.getItem('token');
            if (!token) {
                // Redirecionar para a página de login se o token não estiver presente
                window.location.href = '../../index.html';
            } else {
                // Exibir o conteúdo da página se o usuário estiver logado
                document.querySelector('.loading').style.display = 'none';
                document.querySelector('.content').style.display = 'block';
            }


        };
    </script>
    <div class="container_principal_usuario_screen content">
        <header class="menu_usuario">
            <a href="../screens/home.html" class="logo_screen_principal">FRIEND ZONE</a>
            <ul>
                <button id="btn_voltar" class="btn_voltar" name="btn_voltar">Voltar</button>
                <img id="imgPerfil" src="../../img/user.png" alt="">
                <li id="userName">Nome</li>
                <div id="menuModal" class="modal">
                    <div class="modal-content">
                        <span class="close" id="closeMenuBtn">&times;</span>
                        <div class="container_btn_modal">
                            <button id="btn_lista_amigos" class="btn_lista_amigos">Ver lista de amigos</button>
                            <button id="btn_Sair" class="btn_Sair">Sair</button>
                        </div>
                    </div>
                </div>
            </ul>
        </header>
    </div>

    <div id="container_friend" class="container_friend">
    </div>
    <!-- Estrutura básica do chat -->
    <div id="chatContainer" class="chat">
        <div class="chat-header" id="chat_header">
            <button class="close-chat-btn" id=".close-chat-btn">X</button>
            <!--<button class="minimize-chat-btn">Minimizar</button>-->
        </div>
        <div id="chatMessages" class="chat-messages">
            <!-- Aqui serão exibidas as mensagens da conversa -->
        </div>
        <div class="chat-input">
            <input id="messageInput" type="text" class="message-input" placeholder="Digite sua mensagem...">
            <button id="sendMessageButton" class="send-message-btn">Enviar</button>
        </div>
    </div>


    </div>
    <script defer src="../scripts/script_interface_principal/script_gerenciador_interface.js"></script>
    <script defer src="../scripts/script_interface_principal/scripts_chat/chat_script.js"></script>
    <script defer src="../scripts/script_interface_principal/scripts_chat/chat.msg.js"></script>
    <script src="../scripts//script_interface_principal/paginaAmigos.js"></script>
    <script>
        btn_voltar.addEventListener("click", (e) => {
            e.preventDefault();
            window.location.href = '../screens/home.html';
        })
    </script>
</body>

</html>